# Production override for ANDO
# Usage: docker compose -f docker-compose.yml -f docker-compose.prod.yml up -d

services:
  # Disable frontend dev server in production
  frontend:
    profiles:
      - dev-only

  # Production nginx config
  nginx:
    ports:
      - "80:80"
      - "8001:8080"
    volumes:
      - ./docker/nginx/prod.conf:/etc/nginx/conf.d/default.conf:ro
      - ./docker/nginx/.htpasswd:/etc/nginx/.htpasswd:ro
      - ./dist:/var/www/html:ro
    depends_on:
      - kong
      - studio
